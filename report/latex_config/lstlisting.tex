%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% the basic environement, for Ocaml
% to use: just \begin{lstlisting}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \lstset{
  	  frame=none,
	  showtabs=False,
	  showspaces=False,
	  showstringspaces=False,
	  commentstyle={\ttfamily\color{dgreencolor}},
	  keywordstyle={\ttfamily\color{dbluecolor}\bfseries},
	  stringstyle={\ttfamily\color{dgraycolor}\bfseries},
	  language=Caml, % TO CHANGE
	  basicstyle={\fontsize{10pt}{10pt}\ttfamily},
	  aboveskip=0.3em,
	  belowskip=0.1em,
	  numbers=none,
	  numberstyle=\footnotesize,
	  inputpath=codes
  }



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% the algorithm environement, for pseudo-code
% to use: just \begin{algorithm}[caption={CAPTION}, label={LABEL}]
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% this environment has been found in:
% https://tex.stackexchange.com/questions/111116/
% what-is-the-best-looking-pseudo-code-package

% u{lg}[chapter] % defines algorithm counter for chapter-level

%defines appearance of the algorithm counter
\newcounter{nalg}[section] % defines algorithm counter for chapter-level
\renewcommand{\thenalg}{\thechapter .\arabic{nalg}} 
% defines a new caption label as Algorithm x.y
\DeclareCaptionLabelFormat{algocaption}{Algorithm \thenalg} 

\lstnewenvironment{algorithm}[1][] %defines the algorithm listing environment
{   
	%increments algorithm number
    \refstepcounter{nalg}
	%defines the caption setup for: 
    \captionsetup{labelformat=algocaption,labelsep=colon} 
    % it ises label format as the declared caption label above and makes label and caption 
    % text to be separated by a ':'
    \lstset{ %this is the stype
        mathescape=true,
        frame=tB,
        numbers=left, 
        numberstyle=\tiny,
        basicstyle=\scriptsize, 
        keywordstyle=\color{black}\bfseries\em,
        %add the keywords you want, or load a language 
        % as Rubens explains in his comment above.
        keywords={,Input, Output, return, datatype, function, in, if, else, 
                   foreach, while, begin, end, do} 
        numbers=left,
        xleftmargin=.04\textwidth,
        #1 % this is to add specific settings to an usage of this environment 
        % (for instance, the caption and referable label)
    }
}
{}
