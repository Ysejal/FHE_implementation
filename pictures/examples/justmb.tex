%\begin{tikzpicture}[scale = 1.2, transform shape]
	% I place the nodes

\tikzset{ square/.style = {rectangle, draw, minimum width=1cm,
minimum height = 0.6cm},}

	% absolute way
	\node[square] (A) at (0,0) {A};
	\node[square] (B) at (3,0) {B};
	\node[square] (C) at (6,0) {C};
	\node[square] (D) at (9,0) {D};

	\node[square, fill=orange!20] (W) at (0,-7) {W};
	\node[square, fill=orange!20] (X) at (3,-7) {X};
	\node[square, fill=orange!20] (Y) at (6,-7) {Y};
	\node[square, fill=orange!20] (Z) at (9,-7) {Z};

	\node[square] (LXOR1) at (1.5,-3) {LXOR1};
	\node[square] (MXOR1) at (4.5,-5) {MXOR1};
	\node[square] (RXOR1) at (7.5,-3) {RXOR1};

	\node[square] (LXOR2) at (1.5,-9) {LXOR2};
	\node[square] (RXOR2) at (7.5,-9) {RXOR2};
	\node[square] (MXOR2) at (4.5,-11) {MXOR2};

	% relative way 
	\node[square, below = 0 of A, fill=orange!20] (MB1) {MB};
	\node[square, below = 0 of B, fill=orange!20] (MB2) {MB};
	\node[square, below = 0 of C, fill=orange!20] (MB3) {MB};
	\node[square, below = 0 of D, fill=orange!20] (MB4) {MB};

	% vertical line of the begin
	\foreach \item in {A,B,C,D}
	\draw (\item) -- ($(\item) + (0,1)$);

	\draw (MXOR2) -- ($(MXOR2) - (0,1)$);

	% number above, under and in the sides of the boxs
	\foreach  \item in {MB1, MB2, MB3, MB4, W, X, Y, Z}
	\node[below = 0 of \item]   {\footnotesize 8};
	\foreach  \item in {LXOR1, LXOR2, MXOR1, MXOR2, RXOR1, RXOR2}

	\node[left = 0 of \item]   {\textbf{8}~~};
	\foreach  \item in {LXOR1ei, LXOR2ei, RXOR1ei, RXOR2ei}
	\node[above left = 0 of \item]   {\footnotesize 1};
	\foreach  \item in {LXOR1ei, LXOR2ei, RXOR1ei, RXOR2ei}
	\node[above right = 0 of \item]   {\footnotesize 1};
	\foreach  \item in {LXOR1eo, LXOR2eo, RXOR1eo, RXOR2eo}
	\node[below = 0 of \item]   {\footnotesize 1};
	\foreach  \item in {We, Xe, Ye, Ze}
	\node[above = 0 of \item]   {\footnotesize 2};

	%  Drawing the arrows
	\draw[->] (MB1e) -- (LXOR1ei);
	\draw[->] (MB2e) -- (LXOR1ei);
	\draw[->] (MB3e) -- (RXOR1ei);
	\draw[->] (MB4e) -- (RXOR1ei);
	\draw[->] (LXOR1eo) -- (MXOR1ei);
	\draw[->] (RXOR1eo) -- (MXOR1ei);

	\foreach \item in {W, X, Y, Z}
	\draw[->] (MXOR1) -- (\item);

	\draw[->] (Weo) -- (LXOR2ei);
	\draw[->] (Xeo) -- (LXOR2ei);
	\draw[->] (Yeo) -- (RXOR2ei);
	\draw[->] (Zeo) -- (RXOR2ei);
	\draw[->] (LXOR2eo) -- (MXOR2ei);
	\draw[->] (RXOR2eo) -- (MXOR2ei);


%\end{tikzpicture}
